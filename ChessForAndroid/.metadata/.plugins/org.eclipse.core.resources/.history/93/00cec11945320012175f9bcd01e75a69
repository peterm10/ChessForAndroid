package com.chess.chessforandroid;

import java.util.Collection;
import java.util.Iterator;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.DialogInterface;
import android.content.res.Configuration;
import android.os.Bundle;
import android.os.Handler;
import android.view.Menu;
import android.view.MenuItem;
import android.view.SubMenu;
import android.widget.TextView;


public class MainActivity extends Activity implements Constants {
	private Board board = new Board();
    private Search searcher = new Search();
    private ChessBoard chessView;
    private int computerSide = DARK;
    private final int[] playTime = { 3000, 5000, 10000, 20000, 30000, 60000 };
    private final int moves = 0;
    private int maxTime = 5000;
    private Thread thinkThread = null;
    private Move guessedMove = null;

    private TextView status;
    private String statusStr = "";
    private Move curMove = null;
    private boolean whiteToMove = true;
    private boolean whiteMoved = true;
    private String moveStr;

    private final Handler handler = new Handler();

    static final private int MENU_NEW = Menu.FIRST;
    static final private int MENU_SKILL = MENU_NEW + 1;
    static final private int MENU_SKILL_BEGINNER = MENU_SKILL + 1;
    static final private int MENU_SKILL_INTERMEDIATE = MENU_SKILL_BEGINNER + 1;
    static final private int MENU_SKILL_ADVANCED = MENU_SKILL_INTERMEDIATE + 1;
    static final private int MENU_SKILL_MASTER = MENU_SKILL_ADVANCED + 1;
    static final private int MENU_NEXT = MENU_SKILL_MASTER + 1;
    static final private int MENU_GROUP_SKILL = 1;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        init();
        playNewGame();

        //(new AdView(this)).startSnack();

    }

   /* @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }*/
    private void init() {
        chessView = new ChessBoard(this);
        status = chessView.status;
        setMaxTime(5000);
    }
    public void setMaxTime(int millis) {
        maxTime = millis;
        switch (maxTime) {
        case 5000:
                chessView.profile.setText("Skill level: Beginner");
                break;
        case 10000:
                chessView.profile.setText("Skill level: Intermediate");
                break;
        case 30000:
                chessView.profile.setText("Skill level: Advanced");
                break;
        case 60000:
                chessView.profile.setText("Skill level: Master");
                break;
        }
    }
    public void stop() {
        searcher.stopThinking();
    }

    public void playNewGame() {
        stop();
        computerSide = DARK;
        guessedMove = null;
        searcher = new Search();
        board = new Board();
        chessView.setupBoard();
}



}
